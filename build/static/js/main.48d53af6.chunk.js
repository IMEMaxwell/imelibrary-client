(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{65:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),r=a(33),s=a.n(r),c=a(15),i=a(3),l=(a(39),a(6)),b=a(7),h=a(9),u=a(8),d=a(0),j=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return Object(d.jsxs)("nav",{className:"navbar navbar-dark bg-dark navbar-expand-lg",children:[Object(d.jsx)(c.b,{to:"/",className:"navbar-brand",children:"IME Library"}),Object(d.jsx)("div",{className:"collpase navbar-collapse",children:Object(d.jsx)("ul",{className:"navbar-nav mr-auto"})})]})}}]),a}(o.Component),m=a(4),p=a.n(m),O=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.book.bookname}),Object(d.jsxs)("td",{children:[e.book.qty," / ",e.book.totalqty]}),Object(d.jsx)("td",{children:e.book.borrowedby.join(", ")}),Object(d.jsxs)("td",{children:[0!==e.book.qty&&Object(d.jsx)(c.b,{to:"/borrow/"+e.book._id,children:"Borrow"})," | ",e.book.totalqty>e.book.qty&&Object(d.jsx)(c.b,{to:"/return/"+e.book._id,children:"Return"})]})]})},x=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={books:[]},o}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://imelibrary.herokuapp.com/books/").then((function(t){e.setState({books:t.data})})).catch((function(e){console.log(e)}))}},{key:"bookList",value:function(){return this.state.books.map((function(e){return Object(d.jsx)(O,{book:e},e._id)})).sort((function(e,t){return e.props.book.bookname.localeCompare(t.props.book.bookname)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Books"}),Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{className:"thead-light",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Bookname"}),Object(d.jsx)("th",{children:"Qty / Total"}),Object(d.jsx)("th",{children:"Borrowed By"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:this.bookList()})]})]})}}]),a}(o.Component),v=a(13),k=a.n(v),g=a(16),y=a(2),f=(a(19),function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).onChangeBookname=o.onChangeBookname.bind(Object(y.a)(o)),o.onChangeQty=o.onChangeQty.bind(Object(y.a)(o)),o.onChangeTotalqty=o.onChangeTotalqty.bind(Object(y.a)(o)),o.onChangeImageurl=o.onChangeImageurl.bind(Object(y.a)(o)),o.onSubmit=o.onSubmit.bind(Object(y.a)(o)),o.state={bookname:"",qty:0,totalqty:0,imageurl:"",disabled:!1},o}return Object(b.a)(a,[{key:"onChangeBookname",value:function(e){this.setState({bookname:e.target.value})}},{key:"onChangeQty",value:function(e){this.setState({qty:e.target.value})}},{key:"onChangeTotalqty",value:function(e){this.setState({totalqty:e.target.value})}},{key:"onChangeImageurl",value:function(e){this.setState({imageurl:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={bookname:this.state.bookname,qty:this.state.qty,totalqty:this.state.totalqty,imageurl:this.state.imageurl};console.log(a),function(){var e=Object(g.a)(k.a.mark((function e(){var o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({disabled:!0}),e.prev=1,e.next=4,p.a.post("https://imelibrary.herokuapp.com/books/add",a);case 4:o=e.sent,console.log(o.data),window.location="/",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,t.setState({disabled:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}()()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Create New Book"}),Object(d.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Bookname: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.bookname,onChange:this.onChangeBookname})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Qty: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.qty,onChange:this.onChangeQty})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Total Qty: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.totalqty,onChange:this.onChangeTotalqty})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Image URL: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.imageurl,onChange:this.onChangeImageurl})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:this.state.imageurl,alt:this.state.book})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"submit",disabled:this.state.disabled,value:"Create New Book",className:"btn btn-primary"})})]})]})}}]),a}(o.Component)),C=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).onChangeBorrowedby=o.onChangeBorrowedby.bind(Object(y.a)(o)),o.onSubmit=o.onSubmit.bind(Object(y.a)(o)),o.state={bookname:"",borrowedby:"",imageurl:"",disabled:!1},o}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://imelibrary.herokuapp.com/books/"+this.props.match.params.id).then((function(t){e.setState({bookname:t.data.bookname,imageurl:t.data.imageurl,borrowedby:"Adelina"})})).catch((function(e){console.log(e)}))}},{key:"onChangeBorrowedby",value:function(e){this.setState({borrowedby:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={bookname:this.state.bookname,borrowedby:this.state.borrowedby},o={username:this.state.borrowedby,bookname:this.state.bookname,action:"Borrow"};console.log(a),console.log(o),function(){var e=Object(g.a)(k.a.mark((function e(){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({disabled:!0}),e.prev=1,e.next=4,p.a.post("https://imelibrary.herokuapp.com/books/borrow/"+t.props.match.params.id,a);case 4:return n=e.sent,e.next=7,p.a.post("https://imelibrary.herokuapp.com/records/add",o);case 7:r=e.sent,console.log(n.data),console.log(r.data),window.location="/",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:return e.prev=16,t.setState({disabled:!1}),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}()()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Borrow Book"}),Object(d.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Bookname: "}),Object(d.jsx)("input",{type:"text",required:!0,readOnly:!0,className:"form-control",value:this.state.bookname,onChange:this.onChangeBookname})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:this.state.imageurl,alt:this.state.bookname})}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Borrowed By: "}),Object(d.jsx)("div",{children:Object(d.jsxs)("select",{required:!0,value:this.state.borrowedby,onChange:this.onChangeBorrowedby,children:[Object(d.jsx)("option",{value:"Adelina",children:"Adelina"}),Object(d.jsx)("option",{value:"Eka",children:"Eka"}),Object(d.jsx)("option",{value:"Fariz",children:"Fariz"}),Object(d.jsx)("option",{value:"Farra",children:"Farra"}),Object(d.jsx)("option",{value:"Hashidee",children:"Hashidee"}),Object(d.jsx)("option",{value:"Hidayah",children:"Hidayah"}),Object(d.jsx)("option",{value:"Izzat",children:"Izzat"}),Object(d.jsx)("option",{value:"Jessie",children:"Jessie"}),Object(d.jsx)("option",{value:"John",children:"John"}),Object(d.jsx)("option",{value:"Kit Hong",children:"Kit Hong"}),Object(d.jsx)("option",{value:"Maxwell",children:"Maxwell"}),Object(d.jsx)("option",{value:"Nasruddin",children:"Nasruddin"}),Object(d.jsx)("option",{value:"Ng",children:"Ng"}),Object(d.jsx)("option",{value:"Shamsul",children:"Shamsul"}),Object(d.jsx)("option",{value:"Shane",children:"Shane"}),Object(d.jsx)("option",{value:"SK",children:"SK"}),Object(d.jsx)("option",{value:"Syaiful",children:"Syaiful"}),Object(d.jsx)("option",{value:"Yew Kay",children:"Yew Kay"}),Object(d.jsx)("option",{value:"Yoke Ling",children:"Yoke Ling"})]})})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"submit",disabled:this.state.disabled,value:"Borrow Book",className:"btn btn-primary"})})]})]})}}]),a}(o.Component),w=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).onChangeBorrowedby=o.onChangeBorrowedby.bind(Object(y.a)(o)),o.onSubmit=o.onSubmit.bind(Object(y.a)(o)),o.state={bookname:"",borrowedby:"",imageurl:"",users:[],disabled:!1},o}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://imelibrary.herokuapp.com/books/"+this.props.match.params.id).then((function(t){e.setState({bookname:t.data.bookname,imageurl:t.data.imageurl,users:t.data.borrowedby,borrowedby:t.data.borrowedby[0]})})).catch((function(e){console.log(e)}))}},{key:"onChangeBorrowedby",value:function(e){this.setState({borrowedby:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={bookname:this.state.bookname,borrowedby:this.state.borrowedby},o={username:this.state.borrowedby,bookname:this.state.bookname,action:"Return"};console.log(a),console.log(o),function(){var e=Object(g.a)(k.a.mark((function e(){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({disabled:!0}),e.prev=1,e.next=4,p.a.post("https://imelibrary.herokuapp.com/books/return/"+t.props.match.params.id,a);case 4:return n=e.sent,e.next=7,p.a.post("https://imelibrary.herokuapp.com/records/add",o);case 7:r=e.sent,console.log(n.data),console.log(r.data),window.location="/",e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:return e.prev=16,t.setState({disabled:!1}),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(){return e.apply(this,arguments)}}()()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Return Book"}),Object(d.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Bookname: "}),Object(d.jsx)("input",{type:"text",required:!0,readOnly:!0,className:"form-control",value:this.state.bookname,onChange:this.onChangeBookname})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:this.state.imageurl,alt:this.state.bookname})}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Borrowed By: "}),Object(d.jsx)("div",{children:Object(d.jsx)("select",{required:!0,className:"form-control",value:this.state.borrowedby,onChange:this.onChangeBorrowedby,children:this.state.users.map((function(e){return Object(d.jsx)("option",{value:e,children:e},e)}))})})]}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"submit",disabled:this.state.disabled,value:"Return Book",className:"btn btn-primary"})})]})]})}}]),a}(o.Component),S=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.record.username}),Object(d.jsx)("td",{children:e.record.bookname}),Object(d.jsx)("td",{children:e.record.action}),Object(d.jsx)("td",{children:e.record.createdAt})]})},B=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).state={records:[]},o}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://imelibrary.herokuapp.com/records/").then((function(t){e.setState({records:t.data})})).catch((function(e){console.log(e)}))}},{key:"recordList",value:function(){return this.state.records.map((function(e){return Object(d.jsx)(S,{record:e},e._id)})).sort((function(e,t){return new Date(t.props.record.createdAt)-new Date(e.props.record.createdAt)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Records"}),Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{className:"thead-light",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Username"}),Object(d.jsx)("th",{children:"Bookname"}),Object(d.jsx)("th",{children:"Action"}),Object(d.jsx)("th",{children:"Datetime"})]})}),Object(d.jsx)("tbody",{children:this.recordList()})]})]})}}]),a}(o.Component),q=function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{children:e.book.bookname}),Object(d.jsxs)("td",{children:[Object(d.jsx)(c.b,{to:"/edit/"+e.book._id,children:"Edit"})," | ",Object(d.jsx)("a",{href:"#",onClick:function(){e.deleteBook(e.book._id)},children:"Delete"})]})]})},N=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).deleteBook=o.deleteBook.bind(Object(y.a)(o)),o.state={books:[]},o}return Object(b.a)(a,[{key:"deleteBook",value:function(e){p.a.delete("https://imelibrary.herokuapp.com/books/"+e).then((function(e){return console.log(e.data)})),this.setState({books:this.state.books.filter((function(t){return t._id!==e}))})}},{key:"componentDidMount",value:function(){var e=this;p.a.get("https://imelibrary.herokuapp.com/books/").then((function(t){e.setState({books:t.data})})).catch((function(e){console.log(e)}))}},{key:"bookList",value:function(){var e=this;return this.state.books.map((function(t){return Object(d.jsx)(q,{book:t,deleteBook:e.deleteBook},t._id)})).sort((function(e,t){return e.props.book.bookname.localeCompare(t.props.book.bookname)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Books"}),Object(d.jsxs)("table",{className:"table",children:[Object(d.jsx)("thead",{className:"thead-light",children:Object(d.jsxs)("tr",{children:[Object(d.jsx)("th",{children:"Bookname"}),Object(d.jsx)("th",{children:"Action"})]})}),Object(d.jsx)("tbody",{children:this.bookList()})]})]})}}]),a}(o.Component),D=function(e){Object(h.a)(a,e);var t=Object(u.a)(a);function a(e){var o;return Object(l.a)(this,a),(o=t.call(this,e)).onChangeBookname=o.onChangeBookname.bind(Object(y.a)(o)),o.onChangeQty=o.onChangeQty.bind(Object(y.a)(o)),o.onChangeTotalqty=o.onChangeTotalqty.bind(Object(y.a)(o)),o.onChangeImageurl=o.onChangeImageurl.bind(Object(y.a)(o)),o.onSubmit=o.onSubmit.bind(Object(y.a)(o)),o.state={bookname:"",qty:0,totalqty:0,imageurl:"",disabled:!1},o}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("https://imelibrary.herokuapp.com/books/"+this.props.match.params.id).then((function(t){e.setState({bookname:t.data.bookname,qty:t.data.qty,totalqty:t.data.totalqty,imageurl:t.data.imageurl})})).catch((function(e){console.log(e)}))}},{key:"onChangeBookname",value:function(e){this.setState({bookname:e.target.value})}},{key:"onChangeQty",value:function(e){this.setState({qty:e.target.value})}},{key:"onChangeTotalqty",value:function(e){this.setState({totalqty:e.target.value})}},{key:"onChangeImageurl",value:function(e){this.setState({imageurl:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={bookname:this.state.bookname,qty:this.state.qty,totalqty:this.state.totalqty,imageurl:this.state.imageurl};console.log(a),function(){var e=Object(g.a)(k.a.mark((function e(){var o;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setState({disabled:!0}),e.prev=1,e.next=4,p.a.post("https://imelibrary.herokuapp.com/books/edit/"+t.props.match.params.id,a);case 4:o=e.sent,console.log(o.data),window.location="/manage-book",e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,t.setState({disabled:!1}),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}()()}},{key:"render",value:function(){return Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Edit Book"}),Object(d.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Bookname: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.bookname,onChange:this.onChangeBookname})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Qty: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.qty,onChange:this.onChangeQty})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Total Qty: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.totalqty,onChange:this.onChangeTotalqty})]}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Image URL: "}),Object(d.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.imageurl,onChange:this.onChangeImageurl})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:this.state.imageurl,alt:this.state.book})}),Object(d.jsx)("div",{className:"form-group",children:Object(d.jsx)("input",{type:"submit",disabled:this.state.disabled,value:"Edit Book",className:"btn btn-primary"})})]})]})}}]),a}(o.Component);var I=function(){return Object(d.jsx)(c.a,{children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(j,{}),Object(d.jsx)("br",{}),Object(d.jsx)(i.a,{path:"/",exact:!0,component:x}),Object(d.jsx)(i.a,{path:"/createbook",component:f}),Object(d.jsx)(i.a,{path:"/borrow/:id",component:C}),Object(d.jsx)(i.a,{path:"/return/:id",component:w}),Object(d.jsx)(i.a,{path:"/records-list",component:B}),Object(d.jsx)(i.a,{path:"/manage-book",component:N}),Object(d.jsx)(i.a,{path:"/edit/:id",component:D})]})})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,66)).then((function(t){var a=t.getCLS,o=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),o(e),n(e),r(e),s(e)}))};s.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(I,{})}),document.getElementById("root")),L()}},[[65,1,2]]]);
//# sourceMappingURL=main.48d53af6.chunk.js.map